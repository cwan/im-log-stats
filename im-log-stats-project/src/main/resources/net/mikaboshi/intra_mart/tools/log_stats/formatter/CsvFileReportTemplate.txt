<#function csv s>
	<#if s??>
		<#return "\"" + s?replace("\"", "\"\"") + "\"">
	<#else>
		<#return "">
	</#if>
</#function>
<#if logFiles.transitionLogOnly>
	<#assign requestUrl="遷移先画面パス">
<#else>
	<#assign requestUrl="リクエストURL">
</#if>
${csv(reportName)},${generatedTime?string("yyyy-MM-dd HH:mm:ss")},${csv(signature)}

期間別統計
#,集計期間▲,リクエスト数合計,リクエスト処理時間の合計(ms),リクエスト処理時間の平均値(ms),リクエスト処理時間の最小値(ms),リクエスト処理時間の中央値(ms),リクエスト処理時間の90%Line(ms),リクエスト処理時間の最大値(ms),リクエスト処理時間の標準偏差(ms),ユニークユーザ数,ユニークセッション数,有効セッション数,例外数合計,画面遷移数合計,画面遷移例外数合計
<#list timeSpanStat.list as row>
${(row_index + 1)?c},${row.startDate?string("yyyy-MM-dd HH:mm")} - ${row.endDate?string("HH:mm")},${row.requestCount?c},${row.pageTimeSum?c},${row.pageTimeAverage?c},${row.pageTimeMin?c},${row.pageTimeMedian?c},${row.pageTime90Percent?c},${row.pageTimeMax?c},${row.pageTimeStandardDeviation?c},${row.uniqueUserCount?c},${row.uniqueSessionCount?c},${row.activeSessionCount?c},${row.exceptionCount?c},${row.transitionCount?c},${row.transitionExceptionCount?c}
</#list>

リクエスト処理時間総合ランク,${requestPageTimeRank.size?c}/${requestPageTimeRank.requestCount?c}
#,リクエストURL,処理時間(ms)▼,ログ出力日時,セッションID,ユーザID
<#list requestPageTimeRank.list as row>
${(row_index + 1)?c},${csv(row.requestUrl)},${row.requestPageTime?c},${row.date?string("yyyy-MM-dd HH:mm:ss.SSS")},${csv(row.sessionId)},${csv(row.userId)}
</#list>

${requestUrl}別・処理時間合計ランク,${requestUrlRank.size?c}/${requestUrlRank.total?c}
#,リクエストURL,リクエスト回数,処理時間合計(ms)▼,処理時間平均(ms),処理時間最小値(ms),処理時間中央値(ms),処理時間90%Line(ms),処理時間最大値(ms),処理時間標準偏差(ms),リクエスト回数%,処理時間%
<#list requestUrlRank.list as row>
${(row_index + 1)?c},${csv(row.url)},${row.count?c},${row.pageTimeSum?c},${row.pageTimeAverage?c},${row.pageTimeMin?c},${row.pageTimeMedian?c},${row.pageTime90Percent?c},${row.pageTimeMax?c},${row.pageTimeStandardDeviation?c},${row.countRate?c}%,${row.pageTimeRate?c}%
</#list>

セッション別・処理時間合計ランク,${sessionRank.size?c}/${sessionRank.total?c}
#,セッションID,ユーザID,リクエスト回数,処理時間合計(ms)▼,処理時間平均(ms),処理時間最小値(ms),処理時間中央値(ms),処理時間90%Line(ms),処理時間最大値(ms),処理時間標準偏差(ms),リクエスト回数%,処理時間%,初回アクセス日時,最終アクセス日時
<#list sessionRank.list as row>
${(row_index + 1)?c},${csv(row.sessionId)},${csv(row.userId)},${row.count?c},${row.pageTimeSum?c},${row.pageTimeAverage?c},${row.pageTimeMin?c},${row.pageTimeMedian?c},${row.pageTime90Percent?c},${row.pageTimeMax?c},${row.pageTimeStandardDeviation?c},${row.countRate?c}%,${row.pageTimeRate?c}%,${row.firstAccessTime?string("yyyy-MM-dd HH:mm:ss.SSS")},${row.lastAccessTime?string("yyyy-MM-dd HH:mm:ss.SSS")}
</#list>

例外
#,<#if reportParameter.version.version7>レベル,</#if>メッセージ,スタックトレース1行目,回数▼
<#list exceptionList as row>
${(row_index + 1)?c},<#if reportParameter.version.version7>${csv(row.level)},</#if>${csv(row.message)},${csv(row.firstLineOfStackTrace)},${row.count?c}
</#list>

解析対象ログファイル
種類,ファイルパス/個数
<#list logFiles.requestLogFiles as file>
リクエストログ,${csv(file.absolutePath)}
</#list>
<#list logFiles.transitionLogFiles as file>
画面遷移ログ,${csv(file.absolutePath)}
</#list>
エラーログ,${logFiles.exceptionLogFiles?size?c}ファイル

レポートパラメータ
項目名,値
バージョン,${csv(parserParameter.version.getName())}
開始時刻,<#if parserParameter.begin??>${parserParameter.begin?string("yyyy/MM/dd HH:mm")}<#else>-</#if>
終了時刻,<#if parserParameter.end??>${parserParameter.end?string("yyyy/MM/dd HH:mm")}<#else>-</#if>
ログファイルの文字コード,${csv(parserParameter.charset)}
リクエストログレイアウト,${csv(parserParameter.requestLogLayout)}
画面遷移ログレイアウト,${csv(parserParameter.transitionLogLayout)}
期間別統計の間隔,${reportParameter.span?c}分
セッションタイムアウト時間,${reportParameter.sessionTimeout?c}分
リクエスト処理時間ランクの出力件数,${reportParameter.requestPageTimeRankSize?c}
リクエストURLランクの出力件数,${reportParameter.requestUrlRankSize?c}
セッションランクの出力件数,${reportParameter.sessionRankSize?c}
